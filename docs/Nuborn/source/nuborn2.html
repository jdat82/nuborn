<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">var constants={},CORDOVA=!1,LOG_CONSOLE=!0,LOG_OBJECT_STORAGE=!1;var primitives={};Object.prototype.clone=function(){return $.extend({},this)};String.prototype.contains=function(a,b){if(!a)return!1;var c=this,d=a.toString();b&amp;&amp;(c=c.toLowerCase(),d=d.toLowerCase());return-1!==c.indexOf(d)};Array.prototype.clear=function(){this.splice(0,this.length)};var nu={version:0.1};nu.PageEventsManager=Object.subClass({init:function(){this.pageHandlers={};this.previousPageHandler=this.currentPageHandler=null;this.bindPageEvents()},bindPageEvents:function(){$(document).on(&quot;pagebeforecreate&quot;,&quot;[data-role=page]&quot;,this.pageBeforeCreate);$(document).on(&quot;pageinit&quot;,&quot;[data-role=page]&quot;,this.pageInit);$(document).on(&quot;pagecreate&quot;,&quot;[data-role=page]&quot;,this.pageCreate);$(document).on(&quot;pagebeforechange&quot;,&quot;[data-role=page]&quot;,this.pageBeforeChange);$(document).on(&quot;pagechange&quot;,&quot;[data-role=page]&quot;,
this.pageChange);$(document).on(&quot;pagebeforeload&quot;,&quot;[data-role=page]&quot;,this.pageBeforeLoad);$(document).on(&quot;pageload&quot;,&quot;[data-role=page]&quot;,this.pageLoad);$(document).on(&quot;pagebeforehide&quot;,&quot;[data-role=page]&quot;,this.pageBeforeHide);$(document).on(&quot;pagebeforeshow&quot;,&quot;[data-role=page]&quot;,this.pageBeforeShow);$(document).on(&quot;pageremove&quot;,&quot;[data-role=page]&quot;,this.pageRemove);$(document).on(&quot;pagehide&quot;,&quot;[data-role=page]&quot;,this.pageHide);$(document).on(&quot;pageshow&quot;,&quot;[data-role=page]&quot;,this.pageShow)},unbindPageEvent:function(){$(document).off(&quot;pagebeforecreate&quot;);
$(document).off(&quot;pageinit&quot;);$(document).off(&quot;pagecreate&quot;);$(document).off(&quot;pagebeforechange&quot;);$(document).off(&quot;pagebeforeload&quot;);$(document).off(&quot;pagebeforehide&quot;);$(document).off(&quot;pagebeforeshow&quot;);$(document).off(&quot;pageremove&quot;);$(document).off(&quot;pagehide&quot;);$(document).off(&quot;pageshow&quot;)},registerPageHandler:function(a){this.pageHandlers[a.settings.ID]=a},getPageHandler:function(a){var b=this.pageHandlers[a];b||console.log(&quot;-- Warning : no page handler for page '&quot;+a+&quot;' !&quot;);return b},getPageHandlerFromEvent:function(a){return this.getPageHandler(a.currentTarget.id)},
pageBeforeCreate:function(a,b){var c=this.getPageHandlerFromEvent(a);c&amp;&amp;(this.previousPageHandler=this.currentPageHandler,this.currentPageHandler=c,c.pageBeforeCreate(a,b))},pageInit:function(a,b){var c=this.getPageHandlerFromEvent(a);c&amp;&amp;c.pageInit(a,b)},pageCreate:function(a,b){var c=this.getPageHandlerFromEvent(a);c&amp;&amp;c.pageCreate(a,b)},pageHide:function(a,b){var c=this.getPageHandlerFromEvent(a);c&amp;&amp;c.pageHide(a,b)},pageRemove:function(a,b){var c=this.getPageHandlerFromEvent(a);c&amp;&amp;c.pageRemove(a,
b)},pageBeforeShow:function(a,b){var c=this.getPageHandlerFromEvent(a);if(c){var d=$.mobile.path.parseUrl(page.baseURI);d.search&amp;&amp;(b.options||(b.options={}),b.options.dataUrl||(b.options.dataUrl=d.hrefNoSearch),b.options.pageData=$.it.toolbox.getUrlParams(d.search));c.pageBeforeShow(a,b)}},pageBeforeChange:function(a,b){var c=this.getPageHandlerFromEvent(a);c&amp;&amp;c.pageBeforeChange(a,b)},pageChange:function(a,b){var c=this.getPageHandlerFromEvent(a);c&amp;&amp;c.pageChange(a,b)},pageBeforeLoad:function(a,b){var c=
this.getPageHandlerFromEvent(a);c&amp;&amp;c.pageBeforeLoad(a,b)},pageLoad:function(a,b){var c=this.getPageHandlerFromEvent(a);c&amp;&amp;c.pageLoad(a,b)},pageShow:function(a,b){var c=this.getPageHandlerFromEvent(a);c&amp;&amp;c.pageShow(a,b)},pageBeforeHide:function(a,b){var c=this.getPageHandlerFromEvent(a);c&amp;&amp;c.pageBeforeHide(a,b)}});nu.pageEventsManager=new nu.PageEventsManager;nu.PageHandler=Object.subClass({init:function(a){this.settings=$.extend(!0,{},a);this.html={};this.data={};nu.pagesManager.registerPageHandler(this)},pageBeforeCreate:function(a,b){this.html.page=$(a.currentTarget)},pageInit:function(a,b){console.log(&quot;page init of &quot;+a.currentTarget.id);this.createHtmlElements();this.createDataElements()},pageCreate:function(a,b){console.log(&quot;page create of '&quot;+a.currentTarget.id+&quot;'&quot;)},pageBeforeHide:function(a,b){console.log(&quot;page before hide of '&quot;+a.currentTarget.id+
&quot;'&quot;)},pageHide:function(a,b){console.log(&quot;page hide of '&quot;+a.currentTarget.id+&quot;'&quot;)},pageBeforeShow:function(a,b){console.log(&quot;page before show of '&quot;+a.currentTarget.id+&quot;'&quot;)},pageShow:function(a,b){console.log(&quot;page show of '&quot;+a.currentTarget.id+&quot;'&quot;)},pageBeforeChange:function(a,b){console.log(&quot;page before change of '&quot;+a.currentTarget.id+&quot;'&quot;)},pageChange:function(a,b){console.log(&quot;page change of '&quot;+a.currentTarget.id+&quot;'&quot;)},pageBeforeLoad:function(a,b){console.log(&quot;page before load of '&quot;+a.currentTarget.id+
&quot;'&quot;)},pageLoad:function(a,b){console.log(&quot;page load of '&quot;+a.currentTarget.id+&quot;'&quot;)},pageRemove:function(a,b){console.log(&quot;page remove of '&quot;+a.currentTarget.id+&quot;'&quot;);this.deleteHtmlElements();this.deleteDataElements()},deleteHtmlElements:function(){if(this.html)for(var a in this.html)delete this.html[a]},deleteDataElements:function(){if(this.data)for(var a in this.data)delete this.data[a]}});nu.Storage={};nu.Storage.set=function(a,b){var c=JSON.stringify(b);localStorage.setItem(a,c)};nu.Storage.get=function(a){if(a=localStorage.getItem(a)){var b=null;try{b=JSON.parse(a)}catch(c){b=a}return b}return null};nu.Log={};nu.Log.log=function(a,b){if(a){var c=a.toString(),d=null,e=c;switch(b){case nu.Log.Level.ERROR:e=Error(c).stack;d=&quot;error&quot;;break;case nu.Log.Level.WARN:d=&quot;warn&quot;;break;default:b=nu.Log.Level.INFO,d=&quot;info&quot;}if(LOG_LEVEL===nu.Log.Level.ALL||LOG_LEVEL.contains(b))console[d](c),LOG_STORAGE&amp;&amp;(c=nu.Log.get(),c[b].push(e+&quot; -- &quot;+(new Date).toLocaleString()),nu.Log.set(c))}else nu.Log.e(&quot;nu.Log called without parameter&quot;)};nu.Log.info=function(a){nu.Log.log(a,nu.Log.Level.INFO)};nu.Log.i=nu.Log.info;
nu.Log.error=function(a){nu.Log.log(a,nu.Log.Level.ERROR)};nu.Log.e=nu.Log.error;nu.Log.warn=function(a){nu.Log.log(a,nu.Log.Level.WARN)};nu.Log.w=nu.Log.warn;nu.Log.get=function(){var a=nu.Storage.get(nu.Log.STORAGE_KEY);a||(a={},a[nu.Log.Level.INFO]=[],a[nu.Log.Level.ERROR]=[],a[nu.Log.Level.WARN]=[],nu.Log.set(a));return a};nu.Log.set=function(a){nu.Storage.set(nu.Log.STORAGE_KEY,a)};
nu.Log.list=function(a){if(a===nu.Log.Level.INFO||a===nu.Log.Level.ERROR||a===nu.Log.Level.WARN){var b=nu.Log.get()[a];if(0===b.length)console.log(&quot;There is no logs with type&quot;+a);else{console.log(&quot;List of logs with type &quot;+a+&quot; :&quot;);for(var c=0,d=b.length;c&lt;d;c++)console.log(&quot;    * &quot;+b[c]);console.log(&quot;End of logs with type &quot;+a)}}else nu.Log.list(nu.Log.Level.INFO),nu.Log.list(nu.Log.Level.WARN),nu.Log.list(nu.Log.Level.ERROR)};
nu.Log.clear=function(a){var b=nu.Log.get();a===nu.Log.Level.INFO||a===nu.Log.Level.ERROR||a===nu.Log.Level.WARN?b[a]=[]:(b[nu.Log.Level.INFO]=[],b[nu.Log.Level.WARN]=[],b[nu.Log.Level.ERROR]=[]);nu.Log.set(b)};nu.Log.STORAGE_KEY=&quot;nuborn.log&quot;;nu.Log.Level={ALL:&quot;ALL&quot;,INFO:&quot;INFO&quot;,ERROR:&quot;ERROR&quot;,WARN:&quot;WARN&quot;};nu.Utils={};nu.isNetworkAvailable=function(){return CORDOVA?navigator.connection.type!==Connection.NONE:navigator.onLine};nu.isAndroid=function(){return CORDOVA?&quot;Android&quot;===device.platform:navigator.userAgent.match(&quot;Android&quot;)};nu.isIOS=function(){return CORDOVA?&quot;iOS&quot;===device.platform:navigator.userAgent.match(/(iPhone|iPod|iPad)/i)};nu.isOldAndroid=function(){return!nu.Utils.isAndroid()?!1:4&gt;nu.Utils.getOSVersion()};nu.isOldIOS=function(){return!nu.Utils.isIOS()?!1:5&gt;nu.Utils.getOSVersion()};
nu.getOSVersion=function(){if(CORDOVA)return parseFloat(device.version,10);var a=navigator.userAgent;if(nu.Utils.isIOS()){var b=a.indexOf(&quot;OS&quot;)+2,a=a.slice(b),b=-1===a.indexOf(&quot;)&quot;)?0:a.indexOf(&quot;)&quot;),a=a.substring(0,b),a=a.replace(/_/g,&quot;.&quot;);return a=parseFloat(a)}return nu.Utils.isAndroid()?(b=a.indexOf(&quot;Android&quot;)+7,a=a.slice(b),b=-1===a.indexOf(&quot;;&quot;)?0:a.indexOf(&quot;;&quot;),a=a.substring(0,b),a=parseInt(a)):NaN};nu.loadLazyLib=function(a){$.ajax({url:&quot;js/lazy/&quot;+a,dataType:&quot;script&quot;,async:!1})};
if(!JSON||!JSON.stringify||!JSON.parse)nu.loadLazyLib(&quot;jquery.json-2.4.min.js&quot;),JSON={},JSON.stringify=$.toJSON||function(a){nu.Log.e(&quot;JSON.stringify could not be loaded : returning empty string !&quot;);return a instanceof Object?&quot;{}&quot;:a instanceof Array?&quot;[]&quot;:&quot;&quot;},JSON.parse=$.evalJSON||function(a){nu.Log.e(&quot;JSON.parse could not be loaded : returning empty object !&quot;);return{}};nu.SplashScreen=Object.subClass({init:function(a){this.settings=a||{};this.settings.id||(this.settings.id=nu.SplashScreen.DEFAULT_ID);this.settings.url?this.initWithUrl():this.initWithId()},initWithId:function(){var a=$(&quot;&lt;div&gt;&quot;);a.prop(&quot;id&quot;,this.settings.id);a.addClass(&quot;fullscreen&quot;);this.element=a},initWithUrl:function(){var a=$.ajax({async:!1,url:this.settings.url});a.done(function(a){a=$(a);var c=a.prop(&quot;id&quot;);&quot;&quot;!==c&amp;&amp;(this.settings.id=c);a.addClass(&quot;fullscreen&quot;);this.element=a});a.fail(function(){this.initWithId()})},
show:function(a){var b=$(&quot;#&quot;+this.settings.id);0&lt;b.length&amp;&amp;b.remove();b=this.element;b.hide();$(&quot;body&quot;).append(b);b.fadeIn(a?400:0)},hide:function(a){var b=this.element;b.fadeOut(a?400:0,function(){b.remove()})}});nu.SplashScreen.DEFAULT_ID=&quot;splashscreen&quot;;
</pre>
</body>
</html>
