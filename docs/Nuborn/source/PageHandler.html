<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">/* -- Provider -- */
goog.provide(&quot;nu.pages.PageHandler&quot;);

/* -- Imports -- */
goog.require(&quot;nu.pages.PageEventsManager&quot;);

<span id='nu-pages-PageHandler'>/**
</span> * @class nu.pages.PageHandler
 * Handle lifecycle of jQuery Mobile pages.
 */
nu.pages.PageHandler = Object.subClass(
{

<span id='nu-pages-PageHandler-method-constructor'>	/**
</span>	 * @constructor
	 * Creates a new Page Handler.
	 * @param  {Object} settings    The settings of the page handler (ID, URL, ...).
	 */
	init: function(settings)
	{
		// Declaring class members
		// Settings : object containing ID and URL or a jQuery Mobile page
		this.settings = $.extend(true, {}, settings);
		// Html : Object containing jQuery Object referencing to HTML elements of the page
		this.html = {};
		// Data : data of the page
		this.data = {};

		// Regitsering 
		nu.pages.PageEventsManager.sharedManager().registerPageHandler(this);
	},

<span id='nu-pages-PageHandler-method-pageBeforeCreate'>	/**
</span>	 * Called for the pagebeforecreate event. &lt;br/&gt;
	 * Also register page into HTML elements.
	 * @param  {Object} event
	 * @param  {Object} data
	 */
	pageBeforeCreate: function(event, data)
	{
		// Registering the page into HTML elements
		var page = event.currentTarget;
		this.html.page = $(page);

		// inserting wordings on current page
		// $.it.wordings.update(page);

		// using right image resolution depending on device
		// $.it.rimages.update(page);
	},


<span id='nu-pages-PageHandler-method-pageInit'>	/**
</span>	 * Called for the pageinit event. &lt;br/&gt;
	 * Also create Html Elements &amp; Data objects.
	 * @param  {Object} event
	 * @param  {Object} data
	 */
	pageInit: function(event, data)
	{
		console.log(&quot;page init of &quot; + event.currentTarget.id);

		// Calling #createHtmlElements
		this.createHtmlElements();

		// Calling #createDataElements if exists
		this.createDataElements();

	},

<span id='nu-pages-PageHandler-method-pageCreate'>	/**
</span>	 * Called for the pagecreate event.
	 * @param  {Object} event
	 * @param  {Object} data
	 */
	pageCreate: function(event, data)
	{
		console.log(&quot;page create of '&quot; + event.currentTarget.id + &quot;'&quot;);
	},

<span id='nu-pages-PageHandler-method-pageBeforeHide'>	/**
</span>	 * Called for the pagebeforehide event.
	 * @param  {Object} event
	 * @param  {Object} data
	 */
	pageBeforeHide: function(event, data)
	{
		console.log(&quot;page before hide of '&quot; + event.currentTarget.id + &quot;'&quot;);
	},

<span id='nu-pages-PageHandler-method-pageHide'>	/**
</span>	 * Called for the pagehide event.
	 * @param  {Object} event
	 * @param  {Object} data
	 */
	pageHide: function(event, data)
	{
		console.log(&quot;page hide of '&quot; + event.currentTarget.id + &quot;'&quot;);
	},

<span id='nu-pages-PageHandler-method-pageBeforeShow'>	/**
</span>	 * Called for the pagebeforeshow event.
	 * @param  {Object} event
	 * @param  {Object} data
	 */
	pageBeforeShow: function(event, data)
	{
		console.log(&quot;page before show of '&quot; + event.currentTarget.id + &quot;'&quot;);
	},

<span id='nu-pages-PageHandler-method-pageShow'>	/**
</span>	 * Called for the pageshow event.
	 * @param  {Object} event
	 * @param  {Object} data
	 */
	pageShow: function(event, data)
	{
		console.log(&quot;page show of '&quot; + event.currentTarget.id + &quot;'&quot;);
	},

<span id='nu-pages-PageHandler-method-pageBeforeChange'>	/**
</span>	 * Called for the pagebeforechange event.
	 * @param  {Object} event
	 * @param  {Object} data
	 */
	pageBeforeChange: function(event, data)
	{
		console.log(&quot;page before change of '&quot; + event.currentTarget.id + &quot;'&quot;);
	},

<span id='nu-pages-PageHandler-method-pageChange'>	/**
</span>	 * Called for the pagechange event.
	 * @param  {Object} event
	 * @param  {Object} data
	 */
	pageChange: function(event, data)
	{
		console.log(&quot;page change of '&quot; + event.currentTarget.id + &quot;'&quot;);
	},

<span id='nu-pages-PageHandler-method-pageBeforeLoad'>	/**
</span>	 * Called for the pagebeforeload event.
	 * @param  {Object} event
	 * @param  {Object} data
	 */
	pageBeforeLoad: function(event, data)
	{
		console.log(&quot;page before load of '&quot; + event.currentTarget.id + &quot;'&quot;);
	},

<span id='nu-pages-PageHandler-method-pageLoad'>	/**
</span>	 * Called for the pageLoad event.
	 * @param  {Object} event
	 * @param  {Object} data
	 */
	pageLoad: function(event, data)
	{
		console.log(&quot;page load of '&quot; + event.currentTarget.id + &quot;'&quot;);
	},

<span id='nu-pages-PageHandler-method-pageRemove'>	/**
</span>	 * Called for the pageremove event. &lt;br/&gt;
	 * Also clean references to HTML elements &amp; Data Objects.
	 * @param  {Object} event
	 * @param  {Object} data
	 */
	pageRemove: function(event, data)
	{
		console.log(&quot;page remove of '&quot; + event.currentTarget.id + &quot;'&quot;);

		// Cleaning references to HTML elements &amp; data objects
		this.deleteHtmlElements();
		this.deleteDataElements();
	},

<span id='nu-pages-PageHandler-method-createHtmlElements'>	/**
</span>	 * Create all references to HTML elements.
	 */
	createHtmlElements: function()
	{
		nu.debug.Log.w(&quot;This method should be overriden&quot;);
	},

<span id='nu-pages-PageHandler-method-createDataElements'>	/**
</span>	 * Create all references to data objects.
	 */
	createDataElements: function()
	{
		nu.debug.Log.w(&quot;This method should be overriden&quot;);
	},

<span id='nu-pages-PageHandler-method-deleteHtmlElements'>	/**
</span>	 * Delete all references to HTML elements.
	 */
	deleteHtmlElements: function()
	{
		if (this.html){
			for(var key in this.html){
				delete this.html[key];
			}
		}
	},

<span id='nu-pages-PageHandler-method-deleteDataElements'>	/**
</span>	 * Delete all references to data objects.
	 */
	deleteDataElements: function()
	{
		if (this.data){
			for(var key in this.data){
				delete this.data[key];
			}
		}
	}

});</pre>
</body>
</html>
