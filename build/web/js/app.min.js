var app = {};
window.onerror = function(a, c, d) {
  log.e(a)
};
var utils = nu.Utils, log = nu.debug.Log, PH = nu.pages.PageHandler;
app.version = "0.1.0";
app.name = "Nuborn Application";
app.ready = function() {
  utils.isCordova() ? (log.i("Used as a Hybrid App"), $.mobile.defaultHomeScroll = 0, document.addEventListener("deviceready", app.init, !1)) : (log.i("Used as a Web App"), app.init())
};
app.init = function() {
  if(!utils.isCordova() || !utils.isIOS()) {
    app.splash = new nu.widgets.SplashScreen({id:"splash"}), app.splash.show()
  }
  HomePageHandler.insertHTML().done(function() {
    $.mobile.initializePage()
  })
};
$(app.ready);
this.Templates = this.Templates || {};
this.Templates.home_card = new Hogan.Template(function(a, c, d) {
  this.b(d = d || "");
  this.s(this.f("cards", a, c, 1), a, c, 0, 10, 145, "{{ }}") && (this.rs(a, c, function(a, c, b) {
    b.b("<div>");
    b.b("\n" + d);
    b.b('<div class="card" style="background-image:url(\'');
    b.b(b.v(b.f("image", a, c, 0)));
    b.b("')\">");
    b.b("\n" + d);
    b.b('<div class="title">');
    b.b("\n" + d);
    b.b("");
    b.b(b.v(b.f("title", a, c, 0)));
    b.b("\n" + d);
    b.b("</div>");
    b.b("\n" + d);
    b.b("</div>");
    b.b("\n" + d);
    b.b("</div>");
    b.b("\n")
  }), a.pop());
  return this.fl()
});
var PageHandler = PH.subClass({});
var HomePageHandler = PH.subClass({init:function() {
  this._super({id:"home", url:"home.html"})
}, createHtmlElements:function() {
  var a = this.html.page;
  this.html.menuButton = a.find("div.menu-button");
  this.html.menu = a.find("#home-menu");
  this.html.carousel = $("#carousel");
  this.html.carouselWrapper = $("#carousel-wrapper")
}, createDataElements:function() {
}, pageBeforeShow:function(a, c) {
  this.handleMenuButton();
  this.prepareCarousel()
}, pageShow:function(a, c) {
  this.html.carousel.Swipe();
  app.splash ? setTimeout(function() {
    app.splash.hide(!0)
  }, 2E3) : utils.isCordova() && utils.isIOS() && navigator.splashscreen.hide()
}, handleMenuButton:function() {
  var a = this.html.menuButton;
  a.on("vmousedown", function() {
    a.addClass("active");
    a.one("vmouseup vmousemove", function() {
      a.removeClass("active")
    })
  });
  var c = this.html.menu;
  a.on("tap", function() {
    c.panel("open");
    return!1
  })
}, prepareCarousel:function() {
  this.html.carouselWrapper.html(Templates.home_card.render({cards:[{title:"The Big Bang Theory", image:"http://www.miglo.net/download/men-beard-the-big-bang-theory-1280x800.jpg"}, {title:"Friends", image:"http://2.bp.blogspot.com/-qsfnOy3X1o8/UIWNBoHZlSI/AAAAAAAAA6E/lpOoOTh0rJU/s1600/Friends_04.jpg"}, {title:"How I Met Your Mother", image:"http://popgoestheweek.com/wp-content/uploads/2012/12/how-i-met-your-mother-506192f593493.jpg"}, {title:"One Piece", image:"http://anime-vostfr.com/wp-content/uploads/2013/01/one-piece-581-vostfr.jpg?8b6f22"}]}))
}});
app.home = new HomePageHandler;
HomePageHandler.insertHTML = function() {
  return $.ajax({url:app.home.settings.url}).done(function(a) {
    $("body").prepend(a)
  }).fail(function() {
    log.e("There was an error while inserting HTML of Home page.")
  }).promise()
};

