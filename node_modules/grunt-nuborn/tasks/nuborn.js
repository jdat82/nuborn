/*
 * grunt-nuborn
 * https://github.com/jrob/grunt-nuborn
 *
 * Copyright (c) 2013 Jim Robs & Jean Dat
 * Licensed under the MIT license.
 */

'use strict';

module.exports = function(grunt) {

	/**
	 * Loading task dependencies
	 */
	grunt.loadNpmTasks('grunt-contrib-sass');
	grunt.loadNpmTasks('grunt-closure-compiler');
	grunt.loadNpmTasks('grunt-contrib-copy');
	grunt.loadNpmTasks('grunt-contrib-hogan');

	/**
	 * Register task Nuborn
	 */
	grunt.registerMultiTask('nuborn', 'nuborn build', function()
	{
		var BuildValidator = require("../validator/BuildValidator");
		new BuildValidator().process(this);
	});

	grunt.registerTask("nuborn-copy", "Copy a file", function(source, destination) {
		grunt.log.writeln("nuborn copy of '" + source + "' to '" + destination + "'");
		grunt.file.copy(source, destination);
	});

	grunt.registerTask("nuborn-delete", "Delete a file", function(file) {
		grunt.log.writeln("nuborn delete of '" + file + "'");
		grunt.file.delete(file);
	});

	grunt.registerTask("nuborn-move", "Move a file", function(source, destination) {
		grunt.file.copy(source, destination);
		grunt.file.delete(source);
	});
};